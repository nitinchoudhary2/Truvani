    <script>
        // -----------------------------------------------------------
        // üî• ‡§Ü‡§™‡§ï‡§æ FIREBASE CONFIG (‡§á‡§∏‡•á ‡§Ö‡§™‡§®‡•á ‡§Ö‡§∏‡§≤‡•Ä config ‡§∏‡•á ‡§¨‡§¶‡§≤‡•á‡§Ç)
        // -----------------------------------------------------------
        const firebaseConfig = {
            apiKey: "AIzaSy...YOUR_FIREBASE_KEY", // üö® ‡§Ø‡§π ‡§Ü‡§™‡§ï‡•Ä Firebase ‡§ï‡•Ä ‡§π‡•à, AI ‡§ï‡•Ä ‡§®‡§π‡•Ä‡§Ç
            authDomain: "truvani-admin.firebaseapp.com",
            projectId: "truvani-admin",
            storageBucket: "truvani-admin.appspot.com",
            messagingSenderId: "...",
            appId: "..."
        };
        firebase.initializeApp(firebaseConfig);

        // -----------------------------------------------------------
        // üîí ‡§∏‡§ø‡§ï‡•ç‡§Ø‡•ã‡§∞‡§ø‡§ü‡•Ä ‡§ó‡§æ‡§∞‡•ç‡§°
        // -----------------------------------------------------------
        firebase.auth().onAuthStateChanged((user) => {
            if (user) {
                // ‡§Ø‡•Ç‡§ú‡§º‡§∞ ‡§≤‡•â‡§ó ‡§á‡§® ‡§π‡•à, ‡§â‡§∏‡•á ‡§™‡•à‡§®‡§≤ ‡§¶‡•á‡§ñ‡§®‡•á ‡§¶‡•ã
                console.log('Access Granted. Welcome, Admin.');
            } else {
                // ‡§Ø‡•Ç‡§ú‡§º‡§∞ ‡§≤‡•â‡§ó ‡§á‡§® ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à!
                console.log('Access Denied. Redirecting to login.');
                window.location.href = 'login.html'; // ‡§≤‡•â‡§ó ‡§á‡§® ‡§™‡•á‡§ú ‡§ï‡§æ ‡§®‡§æ‡§Æ
            }
        });

        // -----------------------------------------------------------
        // üî•üî• ‡§Ü‡§™‡§ï‡•Ä GEMINI API KEY (‡§Æ‡•à‡§Ç‡§®‡•á ‡§á‡§∏‡•á ‡§ê‡§° ‡§ï‡§∞ ‡§¶‡§ø‡§Ø‡§æ ‡§π‡•à) üî•üî•
        // -----------------------------------------------------------
        const GEMINI_API_KEY = "AIzaSyCemmmQIR8BKSVYsFeOXJyt3PXt4CxZ8uo";
        // -----------------------------------------------------------


        let articleCount = 0;

        // Show subcategory if Rajasthan selected
        function showSubcategory(category) {
            const subcategoryDiv = document.getElementById('rajasthanSubcategory');
            if (category === 'Rajasthan') {
                subcategoryDiv.style.display = 'block';
            } else {
                subcategoryDiv.style.display = 'none';
            }
        }

        // Preview Image
        function previewImage(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById('imagePreview');
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                }
                reader.readAsDataURL(file);
            }
        }

        // Form Submit
        document.getElementById('newsForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            try {
                // Get form data
                const title = document.getElementById('newsTitle').value;
                const category = document.getElementById('newsCategory').value;
                const subcategory = document.getElementById('newsSubcategory').value;
                const content = document.getElementById('newsContent').value;
                const sentiment = document.getElementById('sentimentScore').value;
                const author = document.getElementById('newsAuthor').value;

                // Add to list
                const newsList = document.getElementById('newsList');
                const newsItem = document.createElement('div');
                newsItem.className = 'news-item';
                newsItem.innerHTML = `
                    <h4 style="color: var(--ai-color); margin-bottom: 10px;">${title}</h4>
                    <div style="font-size: 12px; color: #aaa; margin-bottom: 10px;">
                        ${category} ‚Ä¢ Just now ‚Ä¢ üîó Verified ‚Ä¢ üòä ${sentiment}%
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="quantum-btn btn-danger" style="flex: 1;" onclick="deleteArticle(this)">üóëÔ∏è Delete</button>
                    </div>
                `;
                newsList.insertBefore(newsItem, newsList.firstChild);

                // Update counter
                articleCount++;
                document.getElementById('totalArticles').textContent = articleCount;

                // Success message
                alert(`üöÄ QUANTUM PUBLISHED!\n\n‚úÖ Article: ${title}\nüè∑Ô∏è Category: ${category}\nüòä Sentiment: ${sentiment}%\nüîó Blockchain Verified\n\n‚ú® Live on quantum network!`);

                // Reset form
                this.reset();
                document.getElementById('imagePreview').style.display = 'none';
                document.getElementById('newsAuthor').value = 'Nitin Choudhary';
                document.getElementById('sentimentValue').textContent = '50%';
                document.getElementById('rajasthanSubcategory').style.display = 'none'; // Subcategory ‡§ï‡•ã ‡§≠‡•Ä ‡§∞‡•Ä‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
            
            } catch (err) {
                 console.error("Submit Error:", err);
                 alert("‡§´‡•â‡§∞‡•ç‡§Æ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§ï‡•ã‡§à ‡§è‡§∞‡§∞ ‡§Ü‡§Ø‡§æ!");
            }
        });


        // -----------------------------------------------------------
        // ü§ñ AI TOOLS - ‡§Ü‡§™‡§ï‡§æ ‡§®‡§Ø‡§æ "‡§è‡§°‡§µ‡§æ‡§Ç‡§∏" AI ‡§ü‡§æ‡§á‡§ü‡§≤ ‡§ú‡§®‡§∞‡•á‡§ü‡§∞
        // -----------------------------------------------------------
        async function aiGenerateTitle() {
            const content = document.getElementById('newsContent').value;
            const titleInput = document.getElementById('newsTitle');

            if (content.trim().length < 50) {
                alert('AI ‡§∏‡•á ‡§ü‡§æ‡§á‡§ü‡§≤ ‡§¨‡§®‡§µ‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§¨‡•â‡§ï‡•ç‡§∏ ‡§Æ‡•á‡§Ç ‡§ï‡§Æ ‡§∏‡•á ‡§ï‡§Æ 50 ‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§≤‡§ø‡§ñ‡•á‡§Ç‡•§');
                return;
            }

            titleInput.value = 'ü§ñ ‡§ï‡•ç‡§µ‡§æ‡§Ç‡§ü‡§Æ AI ‡§π‡•á‡§°‡§≤‡§æ‡§á‡§® ‡§∏‡•ã‡§ö ‡§∞‡§π‡§æ ‡§π‡•à...';
            const prompt = `Tum ek professional news editor ho. Is news article ke content ke liye 1 sabse catchy aur SEO-friendly headline (sirf headline) generate karo. Headline Hindi me honi chahiye. Content: "${content}"`;

            try {
                const response = await fetch(`https.generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=${GEMINI_API_KEY}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{ text: prompt }]
                        }]
                    })
                });

                if (!response.ok) {
                    throw new Error(`API Error: ${response.statusText}`);
                }

                const data = await response.json();
                const aiTitle = data.candidates[0].content.parts[0].text.trim();
                
                titleInput.value = aiTitle.replace(/[\*#]/g, '');
                alert('‚ú® AI ‡§®‡•á ‡§ü‡§æ‡§á‡§ü‡§≤ ‡§ú‡§®‡§∞‡•á‡§ü ‡§ï‡§∞ ‡§¶‡§ø‡§Ø‡§æ ‡§π‡•à!');

            } catch (error) {
                console.error('AI Title Error:', error);
                titleInput.value = '';
                alert('AI ‡§ü‡§æ‡§á‡§ü‡§≤ ‡§ú‡§®‡§∞‡•á‡§ü ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§ï‡•ã‡§à ‡§è‡§∞‡§∞ ‡§Ü‡§Ø‡§æ ‡§π‡•à‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§ü‡•ç‡§∞‡§æ‡§à ‡§ï‡§∞‡•á‡§Ç‡•§');
            }
        }

        // -----------------------------------------------------------
        // ü§ñ ‡§¨‡§æ‡§ï‡•Ä AI TOOLS (‡§á‡§®‡•ç‡§π‡•á‡§Ç ‡§π‡§Æ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§¨‡§®‡§æ‡§è‡§Å‡§ó‡•á)
        // -----------------------------------------------------------

        function aiSummary() {
            alert('üìä AI Summary Tool\n\n(‡§á‡§∏‡•á ‡§π‡§Æ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§¨‡§®‡§æ‡§è‡§Å‡§ó‡•á)');
        }

        function aiSentiment() {
            const sentiment = Math.floor(Math.random() * 100);
            document.getElementById('sentimentScore').value = sentiment;
            document.getElementById('sentimentValue').textContent = sentiment + '%';
            alert(`üòä AI Sentiment Analysis Complete!\n\nScore: ${sentiment}%`);
        }

        function aiFactCheck() {
            alert('‚úÖ AI Fact Checker\n\n(‡§á‡§∏‡•á ‡§π‡§Æ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§¨‡§®‡§æ‡§è‡§Å‡§ó‡•á)');
        }

        function aiTranslate() {
            alert('üåê Multi-language Translation\n\n(‡§á‡§∏‡•á ‡§π‡§Æ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§¨‡§®‡§æ‡§è‡§Å‡§ó‡•á)');
        }

        function aiOptimize() {
            alert('üéØ SEO Optimizer\n\n(‡§á‡§∏‡•á ‡§π‡§Æ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§¨‡§®‡§æ‡§è‡§Å‡§ó‡•á)');
        }

        function saveDraft() {
            alert('üíæ Draft Saved!\n\n(‡§á‡§∏‡•á ‡§π‡§Æ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§¨‡§®‡§æ‡§è‡§Å‡§ó‡•á)');
        }

        function deleteArticle(btn) {
            if(confirm('‚ö†Ô∏è Delete this article from quantum network?')) {
                btn.closest('.news-item').remove();
                articleCount--;
                document.getElementById('totalArticles').textContent = Math.max(0, articleCount);
            }
        }
    </script>
